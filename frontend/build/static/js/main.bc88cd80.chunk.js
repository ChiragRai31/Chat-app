(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{151:function(e,t,s){},177:function(e){e.exports=JSON.parse('{"v":"5.5.2","fr":60,"ip":0,"op":104,"w":84,"h":40,"nm":"Typing-Indicator","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Oval 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.643],"y":[1]},"o":{"x":[1],"y":[0]},"t":18,"s":[35],"e":[100]},{"i":{"x":[0.099],"y":[1]},"o":{"x":[0.129],"y":[0]},"t":33,"s":[100],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":65,"s":[35],"e":[35]},{"t":71}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[61,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":18,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.032,0.032,0.667],"y":[1,1,1]},"o":{"x":[0.217,0.217,0.333],"y":[0,0,0]},"t":33,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":65,"s":[100,100,100],"e":[100,100,100]},{"t":71}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Oval 2","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":9,"s":[35],"e":[98]},{"i":{"x":[0.023],"y":[1]},"o":{"x":[0.179],"y":[0]},"t":24,"s":[98],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":56,"s":[35],"e":[35]},{"t":62}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[41,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.654,0.654,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":9,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.11,0.11,0.667],"y":[1,1,1]},"o":{"x":[0.205,0.205,0.333],"y":[0,0,0]},"t":24,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":56,"s":[100,100,100],"e":[100,100,100]},{"t":62}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Oval 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"t":0,"s":[35],"e":[100]},{"i":{"x":[0.067],"y":[1]},"o":{"x":[0.125],"y":[0]},"t":15,"s":[100],"e":[35]},{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.167],"y":[0]},"t":47,"s":[35],"e":[35]},{"t":53}],"ix":11,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[21,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.673,0.673,0.667],"y":[1,1,1]},"o":{"x":[1,1,0.333],"y":[0,0,0]},"t":0,"s":[100,100,100],"e":[140,140,100]},{"i":{"x":[0.049,0.049,0.667],"y":[1,1,1]},"o":{"x":[0.198,0.198,0.333],"y":[0,0,0]},"t":15,"s":[140,140,100],"e":[100,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0,0]},"t":47,"s":[100,100,100],"e":[100,100,100]},{"t":53}],"ix":6,"x":"var $bm_rt;\\n$bm_rt = loopOut(\'cycle\', 0);"}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[12,12],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.847000002861,0.847000002861,0.847000002861,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Oval 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"BG","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[42,20,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-42,-20],[42,-20],[42,20],[-42,20]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"rd","nm":"Round Corners 1","r":{"a":0,"k":20,"ix":1},"ix":2,"mn":"ADBE Vector Filter - RC","hd":false},{"ty":"fl","c":{"a":0,"k":[0.96078401804,0.96078401804,0.96078401804,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"BG","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":3600,"st":0,"bm":0}],"markers":[]}')},201:function(e,t,s){},202:function(e,t,s){},284:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s(45),r=s.n(i),n=(s(201),s(202),s(307)),o=s(308),c=s(309),l=s(334),d=s(11),j=s(182),b=s(88),x=s(303),h=s(333),p=s(304),g=s(305),u=s(332),O=s(15),A=s.n(O),m=s(325),f=s(1);const C=Object(a.createContext)(),y=()=>Object(a.useContext)(C);var k=e=>{let{children:t}=e;const[s,i]=Object(a.useState)(),[r,n]=Object(a.useState)(),[o,c]=Object(a.useState)([]),[l,j]=Object(a.useState)(),b=Object(d.e)();return Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("userInfo"));n(e),e||b.push("/")}),[b]),Object(f.jsx)(C.Provider,{value:{selectedChat:s,setSelectedChat:i,user:r,setUser:n,notification:o,setNotification:c,chats:l,setChats:j},children:t})};var E=()=>{const[e,t]=Object(a.useState)(!1),s=Object(m.a)(),[i,r]=Object(a.useState)(),[n,o]=Object(a.useState)(),[c,l]=Object(a.useState)(!1),O=Object(d.e)(),{setUser:C}=y();return Object(f.jsxs)(u.b,{spacing:"10px",children:[Object(f.jsxs)(b.a,{id:"email",isRequired:!0,children:[Object(f.jsx)(x.a,{children:"Email Address"}),Object(f.jsx)(h.a,{value:i,type:"email",placeholder:"Enter Your Email Address",onChange:e=>r(e.target.value)})]}),Object(f.jsxs)(b.a,{id:"password",isRequired:!0,children:[Object(f.jsx)(x.a,{children:"Password"}),Object(f.jsxs)(p.a,{size:"md",children:[Object(f.jsx)(h.a,{value:n,onChange:e=>o(e.target.value),type:e?"text":"password",placeholder:"Enter password"}),Object(f.jsx)(g.a,{width:"4.5rem",children:Object(f.jsx)(j.a,{h:"1.75rem",size:"sm",onClick:()=>t(!e),bg:e?"red.500":"green.500",color:"white",_hover:{bg:e?"red.600":"green.600"},_active:{bg:e?"red.700":"green.700"},children:e?"Hide":"Show"})})]})]}),Object(f.jsx)(j.a,{colorScheme:"orange",width:"100%",style:{marginTop:15},onClick:async()=>{if(l(!0),!i||!n)return s({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void l(!1);try{const e={headers:{"Content-type":"application/json"}},{data:t}=await A.a.post("/api/user/login",{email:i,password:n},e);s({title:"Login Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),C(t),localStorage.setItem("userInfo",JSON.stringify(t)),l(!1),O.push("/chats")}catch(e){s({title:"Error Occured!",description:e.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),l(!1)}},isLoading:c,children:"Login"}),Object(f.jsx)(j.a,{variant:"solid",colorScheme:"blue",width:"100%",onClick:()=>{r("guest@example.com"),o("123456")},children:"Get Guest User Credentials"})]})};var v=()=>{const[e,t]=Object(a.useState)(!1),s=()=>t(!e),i=Object(m.a)(),r=Object(d.e)(),[n,o]=Object(a.useState)(),[c,l]=Object(a.useState)(),[O,C]=Object(a.useState)(),[y,k]=Object(a.useState)(),[E,v]=Object(a.useState)(),[I,F]=Object(a.useState)(!1);return Object(f.jsxs)(u.b,{spacing:"5px",children:[Object(f.jsxs)(b.a,{id:"first-name",isRequired:!0,children:[Object(f.jsx)(x.a,{children:"Name"}),Object(f.jsx)(h.a,{placeholder:"Enter Your Name",onChange:e=>o(e.target.value)})]}),Object(f.jsxs)(b.a,{id:"email",isRequired:!0,children:[Object(f.jsx)(x.a,{children:"Email Address"}),Object(f.jsx)(h.a,{type:"email",placeholder:"Enter Your Email Address",onChange:e=>l(e.target.value)})]}),Object(f.jsxs)(b.a,{id:"password",isRequired:!0,children:[Object(f.jsx)(x.a,{children:"Password"}),Object(f.jsxs)(p.a,{size:"md",children:[Object(f.jsx)(h.a,{type:e?"text":"password",placeholder:"Enter Password",onChange:e=>k(e.target.value)}),Object(f.jsx)(g.a,{width:"4.5rem",children:Object(f.jsx)(j.a,{h:"1.75rem",size:"sm",onClick:s,bg:e?"red.500":"green.500",color:"white",_hover:{bg:e?"red.600":"green.600"},_active:{bg:e?"red.700":"green.700"},children:e?"Hide":"Show"})})]})]}),Object(f.jsxs)(b.a,{id:"password",isRequired:!0,children:[Object(f.jsx)(x.a,{children:"Confirm Password"}),Object(f.jsxs)(p.a,{size:"md",children:[Object(f.jsx)(h.a,{type:e?"text":"password",placeholder:"Confirm password",onChange:e=>C(e.target.value)}),Object(f.jsx)(g.a,{width:"4.5rem",children:Object(f.jsx)(j.a,{h:"1.75rem",size:"sm",onClick:s,bg:e?"red.500":"green.500",color:"white",_hover:{bg:e?"red.600":"green.600"},_active:{bg:e?"red.700":"green.700"},children:e?"Hide":"Show"})})]})]}),Object(f.jsxs)(b.a,{id:"pic",children:[Object(f.jsx)(x.a,{children:"Upload your Picture"}),Object(f.jsx)(h.a,{type:"file",p:1.5,accept:"image/*",onChange:e=>(e=>{if(F(!0),void 0!==e){if(console.log(e),"image/jpeg"!==e.type&&"image/png"!==e.type)return i({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void F(!1);{const t=new FormData;t.append("file",e),t.append("upload_preset","chat-app"),t.append("cloud_name","dbcdi43dp"),fetch("https://api.cloudinary.com/v1_1/dbcdi43dp/image/upload",{method:"post",body:t}).then((e=>e.json())).then((e=>{v(e.url.toString()),console.log(e.url.toString()),F(!1)})).catch((e=>{console.log(e),F(!1)}))}}else i({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})})(e.target.files[0])})]}),Object(f.jsx)(j.a,{colorScheme:"orange",width:"100%",style:{marginTop:15},onClick:async()=>{if(F(!0),!n||!c||!y||!O)return i({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void F(!1);if(y===O){console.log(n,c,y,E);try{const e={headers:{"Content-type":"application/json"}},{data:t}=await A.a.post("/api/user",{name:n,email:c,password:y,pic:E},e);console.log(t),i({title:"Registration Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(t)),F(!1),r.push("/chats")}catch(e){i({title:"Error Occured!",description:e.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),F(!1)}}else i({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})},isLoading:I,children:"Sign Up"})]})};var I=function(){const e=Object(d.e)();return Object(a.useEffect)((()=>{JSON.parse(localStorage.getItem("userInfo"))&&e.push("/chats")}),[e]),Object(f.jsxs)(n.a,{maxW:"xl",centerContent:!0,children:[Object(f.jsxs)(o.a,{d:"flex",justifyContent:"center",p:3,bg:"#F26523",w:"100%",m:"40px 0 15px 0",borderRadius:"lg",borderWidth:"1px",children:[Object(f.jsx)("img",{src:"data:image/png;base64,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",width:70,height:20,alt:"log",px:"20px"}),Object(f.jsx)(c.a,{fontSize:"4xl",p:"10px",fontFamily:"Work sans",fontWeight:"semibold",children:"Type08"})]}),Object(f.jsx)(o.a,{color:"white",bg:"#292524",w:"100%",p:4,borderRadius:"md",borderWidth:"1px",children:Object(f.jsxs)(l.e,{isFitted:!0,variant:"enclosed",colorScheme:"orange  ",children:[Object(f.jsxs)(l.b,{mb:"1em",children:[Object(f.jsx)(l.a,{_selected:{color:"white",bg:"orange.500"},children:"Login"}),Object(f.jsx)(l.a,{_selected:{color:"white",bg:"orange.500"},children:"Sign Up"})]}),Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.c,{children:Object(f.jsx)(E,{})}),Object(f.jsx)(l.c,{children:Object(f.jsx)(v,{})})]})]})})]})},F=(s(151),s(313)),w=s(306);const S=(e,t,s,a)=>s<e.length-1&&e[s+1].sender._id===t.sender._id&&e[s].sender._id!==a?33:s<e.length-1&&e[s+1].sender._id!==t.sender._id&&e[s].sender._id!==a||s===e.length-1&&e[s].sender._id!==a?0:"auto",B=(e,t,s,a)=>s<e.length-1&&(e[s+1].sender._id!==t.sender._id||void 0===e[s+1].sender._id)&&e[s].sender._id!==a,Q=(e,t,s)=>t===e.length-1&&e[e.length-1].sender._id!==s&&e[e.length-1].sender._id,z=(e,t,s)=>s>0&&e[s-1].sender._id===t.sender._id,D=(e,t)=>{var s;return(null===(s=t[0])||void 0===s?void 0:s._id)===(null===e||void 0===e?void 0:e._id)?t[1].name:t[0].name};var P=s(319),R=s(314),H=s(312),X=s(44),L=s(315);var G=e=>{let{user:t,children:s}=e;const{isOpen:a,onOpen:i,onClose:r}=Object(H.a)();return Object(f.jsxs)(f.Fragment,{children:[s?Object(f.jsx)("span",{onClick:i,children:s}):Object(f.jsx)(F.a,{bg:"#1C1917",d:{base:"flex"},icon:Object(f.jsx)(R.a,{}),onClick:i,color:"teal.500"}),Object(f.jsxs)(X.a,{bg:"#1C1917",size:"lg",onClose:r,isOpen:a,isCentered:!0,children:[Object(f.jsx)(X.h,{}),Object(f.jsxs)(X.d,{bg:"#1C1917",h:"410px",children:[Object(f.jsx)(X.g,{fontSize:"40px",fontFamily:"Work sans",d:"flex",justifyContent:"center",color:"#FFFFFF",children:t.name}),Object(f.jsx)(X.c,{color:"teal.500"}),Object(f.jsxs)(X.b,{d:"flex",flexDir:"column",alignItems:"center",justifyContent:"space-between",children:[Object(f.jsx)(L.a,{borderRadius:"full",boxSize:"150px",src:t.pic,alt:t.name}),Object(f.jsxs)(c.a,{fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",color:"#FFFFFF",children:["Email: ",t.email]})]}),Object(f.jsx)(X.f,{children:Object(f.jsx)(j.a,{bg:"#292524",color:"#FFFFFF",onClick:r,children:"Close"})})]})]})]})},V=s(316),N=s(329),T=s(175);var J=e=>{let{messages:t}=e;const{user:s}=y();return Object(f.jsx)(T.a,{children:t&&t.map(((e,a)=>Object(f.jsxs)("div",{style:{display:"flex"},children:[(B(t,e,a,s._id)||Q(t,a,s._id))&&Object(f.jsx)(N.a,{label:e.sender.name,placement:"bottom-start",hasArrow:!0,children:Object(f.jsx)(V.a,{mt:"7px",mr:1,size:"sm",cursor:"pointer",name:e.sender.name,src:e.sender.pic})}),Object(f.jsx)("span",{style:{color:"#D6D3D1",backgroundColor:""+(e.sender._id===s._id?"#134E4A":"#292524"),marginLeft:S(t,e,a,s._id),marginTop:z(t,e,a,s._id)?3:10,borderRadius:""+(e.sender._id===s._id?"10px 10px 2px 10px":"10px 10px 10px 2px"),padding:"5px 15px",maxWidth:"75%"},children:e.content})]},e._id)))})},U=s(176),W=s.n(U),Y=s(177),M=s(180),K=s(318),Z=s(317);var q=e=>{let{user:t,handleFunction:s,admin:a}=e;return Object(f.jsxs)(Z.a,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"orange",cursor:"pointer",onClick:s,children:[t.name,a===t._id&&Object(f.jsx)("span",{children:" (Admin)"}),Object(f.jsx)(K.a,{pl:.5})]})};var _=e=>{let{user:t,handleFunction:s}=e;return Object(f.jsxs)(o.a,{onClick:s,cursor:"pointer",bg:"#FEF3C7",_hover:{background:"#38B2AC",color:"white"},w:"100%",d:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg",children:[Object(f.jsx)(V.a,{mr:2,size:"sm",cursor:"pointer",name:t.name,src:t.pic}),Object(f.jsxs)(o.a,{children:[Object(f.jsx)(c.a,{children:t.name}),Object(f.jsxs)(c.a,{fontSize:"xs",children:[Object(f.jsx)("b",{children:"Email : "}),t.email]})]})]})};var $=e=>{let{fetchMessages:t,fetchAgain:s,setFetchAgain:i}=e;const{isOpen:r,onOpen:n,onClose:c}=Object(H.a)(),[l,d]=Object(a.useState)(),[x,p]=Object(a.useState)(""),[g,u]=Object(a.useState)([]),[O,C]=Object(a.useState)(!1),[k,E]=Object(a.useState)(!1),v=Object(m.a)(),{selectedChat:I,setSelectedChat:S,user:B}=y(),Q=async e=>{if(I.users.find((t=>t._id===e._id)))v({title:"User Already in group!",status:"error",duration:5e3,isClosable:!0,position:"bottom"});else if(I.groupAdmin._id===B._id){try{C(!0);const t={headers:{Authorization:`Bearer ${B.token}`}},{data:a}=await A.a.put("/api/chat/groupadd",{chatId:I._id,userId:e._id},t);S(a),i(!s),C(!1)}catch(t){v({title:"Error Occured!",description:t.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),C(!1)}d("")}else v({title:"Only admins can add someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"})},z=async e=>{if(I.groupAdmin._id===B._id||e._id===B._id){try{C(!0);const a={headers:{Authorization:`Bearer ${B.token}`}},{data:r}=await A.a.put("/api/chat/groupremove",{chatId:I._id,userId:e._id},a);e._id===B._id?S():S(r),i(!s),t(),C(!1)}catch(a){v({title:"Error Occured!",description:a.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),C(!1)}d("")}else v({title:"Only admins can remove someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"})};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(F.a,{d:{base:"flex"},icon:Object(f.jsx)(R.a,{}),bg:"#1C1917",color:"teal.500",onClick:n}),Object(f.jsxs)(X.a,{onClose:c,isOpen:r,isCentered:!0,children:[Object(f.jsx)(X.h,{}),Object(f.jsxs)(X.d,{bg:"#1C1917",children:[Object(f.jsx)(X.g,{bg:"#1C1917",color:"white",fontSize:"35px",fontFamily:"Work sans",d:"flex",justifyContent:"center",children:I.chatName}),Object(f.jsx)(X.c,{color:"teal.500"}),Object(f.jsxs)(X.b,{d:"flex",flexDir:"column",alignItems:"center",children:[Object(f.jsx)(o.a,{w:"100%",d:"flex",flexWrap:"wrap",pb:3,children:I.users.map((e=>Object(f.jsx)(q,{user:e,admin:I.groupAdmin,handleFunction:()=>z(e)},e._id)))}),Object(f.jsxs)(b.a,{d:"flex",children:[Object(f.jsx)(h.a,{placeholder:"Chat Name",mb:3,value:l,onChange:e=>d(e.target.value)}),Object(f.jsx)(j.a,{variant:"solid",colorScheme:"teal",ml:1,isLoading:k,onClick:async()=>{if(l){try{E(!0);const e={headers:{Authorization:`Bearer ${B.token}`}},{data:t}=await A.a.put("/api/chat/rename",{chatId:I._id,chatName:l},e);console.log(t._id),S(t),i(!s),E(!1)}catch(e){v({title:"Error Occured!",description:e.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),E(!1)}d("")}},children:"Update"})]}),Object(f.jsx)(b.a,{children:Object(f.jsx)(h.a,{placeholder:"Add User to group",mb:1,onChange:e=>(async e=>{if(p(e),e)try{C(!0);const e={headers:{Authorization:`Bearer ${B.token}`}},{data:t}=await A.a.get(`/api/user?search=${x}`,e);console.log(t),C(!1),u(t)}catch(t){v({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"}),C(!1)}})(e.target.value)})}),O?Object(f.jsx)(w.a,{size:"lg"}):null===g||void 0===g?void 0:g.map((e=>Object(f.jsx)(_,{user:e,handleFunction:()=>Q(e)},e._id)))]}),Object(f.jsx)(X.f,{children:Object(f.jsx)(j.a,{onClick:()=>z(B),colorScheme:"red",children:"Leave Group"})})]})]})]})},ee=s.p+"static/media/wallapaper.7bdbf3e9.jpeg";var te,se;var ae=e=>{let{fetchAgain:t,setFetchAgain:s}=e;const[i,r]=Object(a.useState)([]),[n,l]=Object(a.useState)(!1),[d,j]=Object(a.useState)(""),[x,p]=Object(a.useState)(!1),[g,u]=Object(a.useState)(!1),[O,C]=Object(a.useState)(!1),k=Object(m.a)(),E={loop:!0,autoplay:!0,animationData:Y,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},{selectedChat:v,setSelectedChat:I,user:S,notification:B,setNotification:Q}=y(),z=async()=>{if(v)try{const e={headers:{Authorization:`Bearer ${S.token}`}};l(!0);const{data:t}=await A.a.get(`/api/message/${v._id}`,e);r(t),l(!1),te.emit("join chat",v._id)}catch(e){k({title:"Error Occured!",description:"Failed to Load the Messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"})}};Object(a.useEffect)((()=>{(te=Object(M.a)("http://localhost:5000")).emit("setup",S),te.on("connected",(()=>p(!0))),te.on("typing",(()=>C(!0))),te.on("stop typing",(()=>C(!1)))}),[]),Object(a.useEffect)((()=>{z(),se=v}),[v]),Object(a.useEffect)((()=>{te.on("message recieved",(e=>{se&&se._id===e.chat._id?r([...i,e]):B.includes(e)||(Q([e,...B]),s(!t))}))}));return Object(f.jsx)(f.Fragment,{children:v?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(c.a,{fontSize:{base:"28px",md:"30px"},pb:2,px:2,w:"100%",fontFamily:"Work sans",d:"flex",justifyContent:{base:"space-between"},alignItems:"center",children:[Object(f.jsx)(F.a,{bg:"#1C1917",d:{base:"flex",md:"none"},icon:Object(f.jsx)(P.a,{}),onClick:()=>I("")}),i&&(v.isGroupChat?Object(f.jsxs)(f.Fragment,{children:[v.chatName.toUpperCase(),Object(f.jsx)($,{fetchMessages:z,fetchAgain:t,setFetchAgain:s})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(o.a,{color:"white",d:"flex",flexDir:"row",borderRadius:"lg",children:[Object(f.jsx)(V.a,{size:"md",cursor:"pointer",name:D(S,v.users),src:D(S,v.users).pic}),Object(f.jsx)(o.a,{px:2,children:D(S,v.users)})]}),Object(f.jsx)(G,{user:(R=S,H=v.users,H[0]._id===R._id?H[1]:H[0])})]}))]}),Object(f.jsxs)(o.a,{d:"flex",flexDir:"column",justifyContent:"flex-end",p:3,bg:"#57534E",w:"100%",style:{backgroundImage:` linear-gradient(rgba(87, 83, 78, 0.9), rgba(87, 83, 78, 0.9)), url(${ee})`},backgroundImage:"../background.jpeg",h:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:"sm",overflowY:"hidden",children:[n?Object(f.jsx)(w.a,{size:"xl",w:20,h:20,alignSelf:"center",margin:"auto"}):Object(f.jsx)("div",{className:"messages",children:Object(f.jsx)(J,{messages:i})}),Object(f.jsxs)(b.a,{onKeyDown:async e=>{if("Enter"===e.key&&d){te.emit("stop typing",v._id);try{const e={headers:{"Content-type":"application/json",Authorization:`Bearer ${S.token}`}};j("");const{data:t}=await A.a.post("/api/message",{content:d,chatId:v},e);te.emit("new message",t),r([...i,t])}catch(t){k({title:"Error Occured!",description:"Failed to send the Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"})}}},id:"first-name",isRequired:!0,mt:3,children:[O?Object(f.jsx)("div",{children:Object(f.jsx)(W.a,{options:E,width:70,style:{marginBottom:15,marginLeft:0}})}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)(h.a,{variant:"outlined",bg:"#292524",color:"#E7E5E4",placeholder:"Enter a message...",value:d,onChange:e=>{if(j(e.target.value),!x)return;g||(u(!0),te.emit("typing",v._id));let t=(new Date).getTime();setTimeout((()=>{(new Date).getTime()-t>=3e3&&g&&(te.emit("stop typing",v._id),u(!1))}),3e3)}})]})]})]}):Object(f.jsx)(o.a,{d:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:Object(f.jsx)(c.a,{fontSize:"3xl",pb:3,fontFamily:"Work sans",color:"white",children:"Click on a user to start chatting"})})});var R,H};var ie=e=>{let{fetchAgain:t,setFetchAgain:s}=e;const{selectedChat:a}=y();return Object(f.jsx)(o.a,{d:{base:a?"flex":"none",md:"flex"},alignItems:"center",flexDir:"column",p:3,color:"white",bg:"#292524",w:{base:"100%",md:"70%"},children:Object(f.jsx)(ae,{fetchAgain:t,setFetchAgain:s})})},re=s(320),ne=s(327);var oe=()=>Object(f.jsxs)(u.a,{children:[Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"}),Object(f.jsx)(ne.a,{height:"45px"})]});var ce=e=>{let{children:t}=e;const{isOpen:s,onOpen:i,onClose:r}=Object(H.a)(),[n,c]=Object(a.useState)(),[l,d]=Object(a.useState)([]),[x,p]=Object(a.useState)(""),[g,u]=Object(a.useState)([]),[O,C]=Object(a.useState)(!1),k=Object(m.a)(),{user:E,chats:v,setChats:I}=y();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{onClick:i,children:t}),Object(f.jsxs)(X.a,{onClose:r,isOpen:s,isCentered:!0,children:[Object(f.jsx)(X.h,{}),Object(f.jsxs)(X.d,{children:[Object(f.jsx)(X.g,{fontSize:"35px",fontFamily:"Work sans",d:"flex",bg:"#292524",color:"#F97316",justifyContent:"center",children:"Create Your Group"}),Object(f.jsx)(X.c,{color:"#F97316"}),Object(f.jsxs)(X.b,{bg:"#292524",color:"#FAFAF9",d:"flex",flexDir:"column",alignItems:"center",children:[Object(f.jsx)(b.a,{children:Object(f.jsx)(h.a,{placeholder:"Group Name",mb:3,onChange:e=>c(e.target.value)})}),Object(f.jsx)(b.a,{children:Object(f.jsx)(h.a,{placeholder:"Add Members",mb:1,onChange:e=>(async e=>{if(p(e),e)try{C(!0);const e={headers:{Authorization:`Bearer ${E.token}`}},{data:t}=await A.a.get(`/api/user?search=${x}`,e);console.log(t),C(!1),u(t)}catch(t){k({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}})(e.target.value)})}),Object(f.jsx)(o.a,{w:"100%",d:"flex",flexWrap:"wrap",alignItems:"center",children:l.map((e=>Object(f.jsx)(q,{user:e,handleFunction:()=>{return t=e,void d(l.filter((e=>e._id!==t._id)));var t}},e._id)))}),O?Object(f.jsx)("div",{children:"Loading..."}):null===g||void 0===g?void 0:g.slice(0,4).map((e=>Object(f.jsx)(_,{user:e,handleFunction:()=>{return t=e,void(l.includes(t)?k({title:"User already added",status:"warning",duration:5e3,isClosable:!0,position:"top"}):d([...l,t]));var t}},e._id)))]}),Object(f.jsx)(X.f,{bg:"#292524",children:Object(f.jsx)(j.a,{onClick:async()=>{if(n&&l)try{const e={headers:{Authorization:`Bearer ${E.token}`}},{data:t}=await A.a.post("/api/chat/group",{name:n,users:JSON.stringify(l.map((e=>e._id)))},e);I([t,...v]),r(),k({title:"New Group Chat Created!",status:"success",duration:5e3,isClosable:!0,position:"bottom"})}catch(e){k({title:"Failed to Create the Chat!",description:e.response.data,status:"error",duration:5e3,isClosable:!0,position:"bottom"})}else k({title:"Please fill all the feilds",status:"warning",duration:5e3,isClosable:!0,position:"top"})},colorScheme:"orange",children:"Create Chat"})})]})]})]})};var le=e=>{let{fetchAgain:t}=e;const[s,i]=Object(a.useState)(),{selectedChat:r,setSelectedChat:n,user:l,chats:d,setChats:b}=y(),x=Object(m.a)();return Object(a.useEffect)((()=>{i(JSON.parse(localStorage.getItem("userInfo"))),(async()=>{try{const e={headers:{Authorization:`Bearer ${l.token}`}},{data:t}=await A.a.get("/api/chat",e);b(t)}catch(e){x({title:"Error Occured!",description:"Failed to Load the chats",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}})()}),[t]),Object(f.jsxs)(o.a,{d:{base:r?"none":"flex",md:"flex"},flexDir:"column",alignItems:"center",p:3,bg:"#1C1917",w:{base:"100%",md:"31%"},color:"#FCD34D",children:[Object(f.jsxs)(o.a,{pb:3,px:3,fontSize:{base:"25px",md:"30px"},fontFamily:"Helvetica",d:"flex",w:"100%",justifyContent:"space-between",alignItems:"center",children:["All Chats",Object(f.jsx)(ce,{children:Object(f.jsx)(j.a,{bg:"#57534E",d:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},rightIcon:Object(f.jsx)(re.a,{}),children:"Create Group Chat"})})]}),Object(f.jsx)(o.a,{d:"flex",flexDir:"column",p:3,bg:"#292524",w:"100%",h:"100%",borderRadius:"1px",overflowY:"hidden",children:d?Object(f.jsx)(u.a,{overflowY:"scroll",children:d.map((e=>Object(f.jsxs)(o.a,{boxShadow:"sm",onClick:()=>n(e),cursor:"pointer",bg:r===e?"#44403C":"#292524",color:r===e?"white":"orange",px:3,py:2,d:"flex",flexDir:"row",borderRadius:"sm",children:[Object(f.jsx)(V.a,{size:"md",cursor:"pointer",name:e.isGroupChat?e.chatName:D(s,e.users),src:e.isGroupChat?null:D(s,e.users).pic}),Object(f.jsxs)(o.a,{onClick:()=>n(e),cursor:"pointer",bg:r===e?"#44403C":"#292524",color:r===e?"white":"#A8A29E",px:3,d:"flex",flexDir:"column",borderRadius:"lg",children:[Object(f.jsx)(c.a,{children:e.isGroupChat?e.chatName:D(s,e.users)}),e.latestMessage&&Object(f.jsxs)(c.a,{fontSize:"xs",children:[Object(f.jsxs)("b",{children:[e.latestMessage.sender.name," : "]}),e.latestMessage.content.length>50?e.latestMessage.content.substring(0,51)+"...":e.latestMessage.content]})]},e._id)]},e._id)))}):Object(f.jsx)(oe,{})})]})},de=s(328),je=s(336),be=s(321),xe=s(322),he=s(106),pe=s.n(he);var ge=function(){const[e,t]=Object(a.useState)(""),[s,i]=Object(a.useState)([]),[r,n]=Object(a.useState)(!1),[l,b]=Object(a.useState)(!1),{setSelectedChat:x,user:p,notification:g,setNotification:u,chats:O,setChats:C}=y(),k=Object(m.a)(),{isOpen:E,onOpen:v,onClose:I}=Object(H.a)(),F=Object(d.e)(),S=async e=>{console.log(e);try{b(!0);const t={headers:{"Content-type":"application/json",Authorization:`Bearer ${p.token}`}},{data:s}=await A.a.post("/api/chat",{userId:e},t);O.find((e=>e._id===s._id))||C([s,...O]),x(s),b(!1),I()}catch(t){k({title:"Error fetching the chat",description:t.message,status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(o.a,{d:"flex",justifyContent:"space-between",alignItems:"center",bg:"#1C1917",w:"100%",p:"5px 10px 5px 10px",borderWidth:"0px",children:[Object(f.jsx)(N.a,{label:"Search Users to chat",color:"#FB923C",hasArrow:!0,placement:"bottom-end",children:Object(f.jsxs)(j.a,{color:"#FB923C",variant:"ghost",onClick:v,children:[Object(f.jsx)("i",{className:"fas fa-search"}),Object(f.jsx)(c.a,{d:{base:"none",md:"flex"},color:"#FB923C",px:4,children:"Search User"})]})}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(f.jsx)(o.a,{as:"img",src:"data:image/png;base64,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",width:12,height:9,alt:"log",mr:"20px"}),Object(f.jsx)(c.a,{fontSize:"2xl",fontWeight:"bold",color:"#FB923C",fontFamily:"Work sans",children:"Type08"})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(de.a,{children:[Object(f.jsxs)(de.b,{p:1,children:[Object(f.jsx)(pe.a,{count:g.length,effect:he.Effect.SCALE}),Object(f.jsx)(be.a,{fontSize:"2xl",color:" #FB923C",m:1})]}),Object(f.jsxs)(de.e,{color:"#06B6D4",bg:"#292524",_hover:{bg:"#57534E",color:"#ffffff"},pl:2,children:[!g.length&&" No New Messages",g.map((e=>Object(f.jsx)(de.d,{onClick:()=>{x(e.chat),u(g.filter((t=>t!==e)))},children:e.chat.isGroupChat?`New Message in ${e.chat.chatName}`:`New Message from ${D(p,e.chat.users)}`},e._id)))]})]}),Object(f.jsxs)(de.a,{_hover:{bg:"#57534E",color:"#292524"},color:"#292524",children:[Object(f.jsx)(de.b,{as:j.a,boxShadow:"0px 2px 4px #1C1917",bg:"#292524",rightIcon:Object(f.jsx)(xe.a,{color:"#06B6D4"}),children:Object(f.jsx)(V.a,{size:"sm",cursor:"pointer",name:p.name,src:p.pic})}),Object(f.jsxs)(de.e,{bg:"#44403C",color:"#D6D3D1",children:[Object(f.jsxs)(G,{user:p,children:[Object(f.jsx)(de.d,{_hover:{bg:"#57534E",color:"#FFFFFF"},children:"My Profile"})," "]}),Object(f.jsx)(de.c,{}),Object(f.jsx)(de.d,{onClick:()=>{localStorage.removeItem("userInfo"),F.push("/")},_hover:{bg:"#57534E",color:"#FFFFFF"},children:"Logout"})]})]})]})]}),Object(f.jsxs)(je.a,{placement:"left",bg:"#292524",color:"#FBBF24",onClose:I,isOpen:E,children:[Object(f.jsx)(X.h,{}),Object(f.jsxs)(je.b,{bg:"#292524",color:"#D97706",children:[Object(f.jsx)(X.g,{borderBottomWidth:"1px",borderColor:"#D97706",children:"Search Users"}),Object(f.jsxs)(X.b,{children:[Object(f.jsxs)(o.a,{d:"flex",pb:2,children:[Object(f.jsx)(h.a,{placeholder:"Search by name or email",mr:2,borderColor:"#FEF3C7",color:"#FEF3C7",value:e,onChange:e=>t(e.target.value)}),Object(f.jsx)(j.a,{onClick:async()=>{if(e)try{n(!0);const t={headers:{Authorization:`Bearer ${p.token}`}},{data:s}=await A.a.get(`/api/user?search=${e}`,t);n(!1),i(s)}catch(t){k({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"})}else k({title:"Please Enter something in search",status:"warning",duration:5e3,isClosable:!0,position:"top-left"})},children:"Go"})]}),r?Object(f.jsx)(oe,{}):null===s||void 0===s?void 0:s.map((e=>Object(f.jsx)(_,{color:"#FEF3C7",user:e,handleFunction:()=>S(e._id)},e._id))),l&&Object(f.jsx)(w.a,{ml:"auto",d:"flex"})]})]})]})]})};var ue=()=>{const[e,t]=Object(a.useState)(!1),{user:s}=y();return Object(f.jsxs)("div",{style:{width:"100%"},children:[s&&Object(f.jsx)(ge,{}),Object(f.jsxs)(o.a,{d:"flex",justifyContent:"space-between",w:"100%",h:"93vh",children:[s&&Object(f.jsx)(le,{fetchAgain:e}),s&&Object(f.jsx)(ie,{fetchAgain:e,setFetchAgain:t})]})]})};var Oe=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(d.a,{path:"/",component:I,exact:!0}),Object(f.jsx)(d.a,{path:"/chats",component:ue})]})};var Ae=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,338)).then((t=>{let{getCLS:s,getFID:a,getFCP:i,getLCP:r,getTTFB:n}=t;s(e),a(e),i(e),r(e),n(e)}))},me=s(326),fe=s(76);r.a.render(Object(f.jsx)(me.a,{children:Object(f.jsx)(fe.a,{children:Object(f.jsx)(k,{children:Object(f.jsx)(Oe,{})})})}),document.getElementById("root")),Ae()}},[[284,1,2]]]);
//# sourceMappingURL=main.bc88cd80.chunk.js.map